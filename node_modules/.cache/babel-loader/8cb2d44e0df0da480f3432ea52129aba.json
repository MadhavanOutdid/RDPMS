{"ast":null,"code":"var _jsxFileName = \"F:\\\\RDPMS\\\\Frontend\\\\src\\\\page\\\\SignalHmu.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SignalHmu(_ref) {\n  _s();\n\n  let {\n    Value,\n    search\n  } = _ref;\n  // Data pase\n  useEffect(() => {\n    const event = new CustomEvent('reloadPage', {\n      detail: 'Signal HMU'\n    });\n    window.dispatchEvent(event);\n  }, []);\n  const [devices, setDevices] = useState([]);\n  const [actCount, setActCount] = useState(0);\n  const [inactCount, setInactCount] = useState(0);\n  useEffect(() => {\n    // Define the URL based on Value and search\n    let url;\n\n    switch (Value || search) {\n      case \"Signal HMU\":\n        url = \"/signalhmuhistory\";\n        break;\n\n      case \"Point HMU\":\n        url = \"/pointhmuhistory\";\n        break;\n\n      case \"Track HMU\":\n        url = \"/trackhmuhistory\";\n        break;\n\n      default:\n        url = \"/FetchDevices\";\n      // Change this to the appropriate default URL\n    } // Make an AJAX request to fetch devices\n\n\n    fetch({\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        module: 'Signal HMU',\n        search: search\n      }),\n      url: \"/FetchDevices\"\n    }).then(response => response.json()).then(data => {\n      setDevices(data.data);\n      const activeCount = data.data.filter(device => device.status === 1).length;\n      setActCount(activeCount);\n      setInactCount(data.data.length - activeCount);\n    }).catch(error => {\n      console.error(\"Error occurred while fetching devices\", error);\n    });\n  }, [Value, search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content-wrapper\",\n    style: {\n      minHeight: '817px'\n    },\n    id: \"main-dashboard\",\n    children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: devices.length > 0 ? devices.map((device, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: index + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: device.device_id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: device.created_date\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: device.status === 1 ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-success\",\n            children: \"Active\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge bg-danger\",\n            children: \"Inactive\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/signalhmuhistory?device_id=${device.device_id}&module=${Value}`,\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-block btn-primary\",\n              children: \"View\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)]\n      }, device.device_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          colSpan: \"5\",\n          style: {\n            textAlign: \"center\",\n            paddingTop: \"50px\"\n          },\n          children: \"No devices found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignalHmu, \"+FnFQDXGtqZmSULmaizLRtKCuJc=\");\n\n_c = SignalHmu;\nexport default SignalHmu;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignalHmu\");","map":{"version":3,"names":["React","useState","useEffect","Link","SignalHmu","Value","search","event","CustomEvent","detail","window","dispatchEvent","devices","setDevices","actCount","setActCount","inactCount","setInactCount","url","fetch","method","headers","body","JSON","stringify","module","then","response","json","data","activeCount","filter","device","status","length","catch","error","console","minHeight","map","index","device_id","created_date","textAlign","paddingTop"],"sources":["F:/RDPMS/Frontend/src/page/SignalHmu.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction SignalHmu({ Value, search }) {\r\n  // Data pase\r\n  useEffect(() => {\r\n    const event = new CustomEvent('reloadPage', { detail: 'Signal HMU' });\r\n    window.dispatchEvent(event);\r\n  }, []);\r\n\r\n  const [devices, setDevices] = useState([]);\r\n  const [actCount, setActCount] = useState(0);\r\n  const [inactCount, setInactCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    // Define the URL based on Value and search\r\n    let url;\r\n    switch (Value || search) {\r\n      case \"Signal HMU\":\r\n        url = \"/signalhmuhistory\";\r\n        break;\r\n      case \"Point HMU\":\r\n        url = \"/pointhmuhistory\";\r\n        break;\r\n      case \"Track HMU\":\r\n        url = \"/trackhmuhistory\";\r\n        break;\r\n      default:\r\n        url = \"/FetchDevices\"; // Change this to the appropriate default URL\r\n    }\r\n\r\n    // Make an AJAX request to fetch devices\r\n    fetch(  {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        module: 'Signal HMU',\r\n        search: search,\r\n      }),\r\n      url: \"/FetchDevices\",\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        setDevices(data.data);\r\n        const activeCount = data.data.filter((device) => device.status === 1).length;\r\n        setActCount(activeCount);\r\n        setInactCount(data.data.length - activeCount);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error occurred while fetching devices\", error);\r\n      });\r\n  }, [Value, search]);\r\n\r\n  return (\r\n    <div className=\"content-wrapper\" style={{ minHeight: '817px' }} id=\"main-dashboard\">\r\n      {/* ... (rest of your code) */}\r\n      <tbody>\r\n        {devices.length > 0 ? (\r\n          devices.map((device, index) => (\r\n            <tr key={device.device_id}>\r\n              <td>{index + 1}</td>\r\n              <td>{device.device_id}</td>\r\n              <td>{device.created_date}</td>\r\n              <td>\r\n                {device.status === 1 ? (\r\n                  <span className=\"badge bg-success\">Active</span>\r\n                ) : (\r\n                  <span className=\"badge bg-danger\">Inactive</span>\r\n                )}\r\n              </td>\r\n              <td>\r\n                <Link to={`/signalhmuhistory?device_id=${device.device_id}&module=${Value}`}>\r\n                  <button type=\"button\" className=\"btn btn-block btn-primary\">\r\n                    View\r\n                  </button>\r\n                </Link>\r\n              </td>\r\n            </tr>\r\n          ))\r\n        ) : (\r\n          <tr>\r\n            <td colSpan=\"5\" style={{ textAlign: \"center\", paddingTop: \"50px\" }}>\r\n              No devices found\r\n            </td>\r\n          </tr>\r\n        )}\r\n      </tbody>\r\n      {/* ... (rest of your code) */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignalHmu;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}